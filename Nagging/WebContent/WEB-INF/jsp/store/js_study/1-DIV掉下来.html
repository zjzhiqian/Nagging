<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>DIV掉下来.html</title>
</head>
<script src="js/divMove.js"></script>

<script type="text/javascript">

window.onload = function(){
	
	var str = '';
	var aDiv = document.getElementsByTagName('div');
	var timer = null;
	var num = 0;
	var divNum = 20;
	var topFlag=true
	for(var i = 0;i < divNum ; i++){
		str= str+'<div style="width:50px; height:50px; background:red; position:absolute; top:0px; left:'+ i*60 +'px;"></div>'
	}
	document.body.innerHTML = str;
	
	document.onclick = function () {
		clearInterval( timer );
		var target ;
		if(topFlag){
			target = 500;
		}else{
			target = 20;
		}
		timer = setInterval( function (){
			doMove( aDiv[num], 'top', 23, target );
			num ++;
			if ( num === divNum ) {
				clearInterval( timer );
			}
		}, 100 );
		topFlag = !topFlag ; num = 0;
	};
}

</script>
<body>

</body>
</html>